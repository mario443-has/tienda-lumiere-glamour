<div class="bg-white rounded-xl shadow hover:shadow-md transition overflow-hidden">
  {# Corregido: Usar 'producto_detalle' y 'producto.id' #}
  <a href="{% url 'producto_detalle' producto.id %}">
    <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" class="w-full h-48 object-cover">
  </a>
  <div class="p-4">
    <h3 class="text-sm font-medium text-gray-700">
      {{ producto.nombre|truncatechars:40 }}
    </h3>

    {% if producto.descuento %}
      <p class="text-pink-600 font-bold text-sm mt-1">
        ${{ producto.get_precio_final }} COP
      </p>
      <p class="text-gray-500 text-xs line-through">
        ${{ producto.precio }} COP
      </p>
    {% else %}
      <p class="text-gray-900 font-bold text-sm mt-1">
        ${{ producto.precio }} COP
      </p>
    {% endif %}

    <button class="mt-4 w-full bg-pink-600 text-white py-2 px-3 rounded-md text-xs font-semibold hover:bg-pink-700 transition">
      AÃ±adir al Carrito
    </button>
  </div>
</div>